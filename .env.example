# ---TAG YOUR IMAGES---
APP_TAG=latest
MODE=dev

#---CONTAINERS CONFIG---

##POSTGRESQL CONTAINER CONFIG
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-postgres-password-here
POSTGRES_DB=main
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

#NGINX
NGINX_PORT=80

#---API CONFIG---

##LOGGING
SERVICE_LOGGING_LEVEL=DEBUG

##API CONFIG
SERVICE_SERVER_PORT=8000
SERVICE_NAME=service-api

##API AUTH CONFIG
AUTH__SECRET=your-jwt-secret-key-here-change-in-production
AUTH__ALGORITHM=HS256
AUTH__EXP_HOURS=24
AUTH__DEV_MODE=True

# CORS (JSON-массив доменов; в продакшне лучше оставить пустым, если фронт и бэкенд на одном домене через Nginx)
CORS__ALLOW_ORIGINS=["http://localhost:3000"]

#REACT
REACT_APP_API_BASE_URL=http://81.177.217.148:8000

##STORAGE CONFIG
STORAGE_ROOT=/var/lib/app/storage
STORAGE_BACKEND=local  # local|minio

# MinIO (if STORAGE_BACKEND=minio)
MINIO_ENDPOINT=localhost:9000
MINIO_BUCKET=mlservice
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_SECURE=false
MINIO_RETRY_ATTEMPTS=3
MINIO_RETRY_BACKOFF=0.5
MINIO_PRESIGN_EXP=3600

##API POSTGRESQL CONFIG
PG__USER=postgres
PG__PASSWORD=your-postgres-password-here
PG__HOST=postgres
PG__PORT=5432
PG__DB=main

# --- ML TRAINING ---
# Enable heavy training with pandas/sklearn (Linux CI recommended)
ENABLE_REAL_TRAINING=false
MAX_MODEL_ARTIFACTS=5
MAX_CSV_UPLOAD_BYTES=10485760
MIN_CSV_DATA_ROWS=2
MAX_EMPTY_RATIO=0.5

# --- DATASET TTL CLEANUP ---
DATASET_TTL_DAYS=0
DATASET_TTL_CHECK_INTERVAL_SEC=3600
DATASET_TTL_BATCH_LIMIT=500
